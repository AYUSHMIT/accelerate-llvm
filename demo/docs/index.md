# Accelerate LLVM Demo Gallery

Welcome to the Accelerate LLVM demonstration showcase! This page highlights the capabilities of the Accelerate array language with LLVM backends for high-performance parallel computing.

## About

Accelerate is a high-level Haskell DSL for array computations with multiple backends. This demo showcases the LLVM backends that target:

- **CPUs** via `accelerate-llvm-native` (multicore parallel execution)
- **GPUs** via `accelerate-llvm-ptx` (NVIDIA CUDA devices) *(optional)*

## Demos

### Mandelbrot Set

The Mandelbrot set is a classic fractal demonstrating complex mathematical beauty. Our implementation uses Accelerate to parallelize the iteration computation across all pixels.

**Features:**
- Configurable resolution and iteration depth
- Custom view windows for zooming
- Colorful palette mapping
- Full parallel execution on CPU/GPU

**Example output:**

![Mandelbrot Set](mandelbrot.png)

**Usage:**
```bash
cabal run accelerate-llvm-demo -- mandelbrot \
  --width 2048 --height 1536 \
  --iterations 255 \
  --output mandelbrot.png
```

### N-body Simulation

Physics-based gravitational N-body simulation demonstrating particle interactions over time.

**Features:**
- Parallel force computation
- Position and velocity integration
- Frame sequence generation
- Customizable particle count

**Usage:**
```bash
cabal run accelerate-llvm-demo -- nbody \
  --particles 200 \
  --frames 120 \
  --output nbody/
```

### Image Processing

Image manipulation using Accelerate array operations.

**Features:**
- Box blur filter
- Sobel edge detection
- RGB channel processing
- Boundary handling

**Usage:**
```bash
cabal run accelerate-llvm-demo -- imgproc \
  --input input.png \
  --output output.png \
  --mode edges
```

## Benchmarks

Performance comparison of different workloads on CPU backend:

| Workload | Size | Time (CPU) |
|----------|------|------------|
| Mandelbrot | 512x384 | ~50ms |
| Mandelbrot | 1024x768 | ~200ms |
| N-body | 100 particles | ~5ms |
| N-body | 500 particles | ~120ms |

*Note: Benchmarks run on GitHub Actions runners. Local performance may vary.*

## How to Run

### Quick Start

```bash
# Clone the repository
git clone https://github.com/AYUSHMIT/accelerate-llvm.git
cd accelerate-llvm

# Build the demo
cabal build accelerate-llvm-demo

# Run demos
cabal run accelerate-llvm-demo -- mandelbrot --size 1024 --output demo.png
```

### Requirements

- **GHC** 9.4 or later
- **Cabal** 3.8 or later
- **clang** (LLVM frontend)
- **libFFI** (for CPU backend)
- **CUDA toolkit** (optional, for GPU backend)

See the [main README](../README.md) for detailed installation instructions.

### Docker

Run in a containerized environment:

```bash
docker build -t accelerate-demo .
docker run -v $(pwd)/docs:/app/docs accelerate-demo
```

## Source Code

All demo source code is available in the `demo/` directory:

- `src/Demo/Mandelbrot.hs` - Mandelbrot set implementation
- `src/Demo/NBody.hs` - N-body simulation
- `src/Demo/Image.hs` - Image processing pipeline
- `app/Main.hs` - CLI interface

## Architecture

The demos are built on:

1. **Accelerate DSL**: High-level array computations
2. **LLVM Backend**: Compiles to optimized native code
3. **JuicyPixels**: Image I/O
4. **Criterion**: Performance benchmarking

## Contributing

Contributions are welcome! See the main [accelerate-llvm repository](https://github.com/AccelerateHS/accelerate-llvm) for contribution guidelines.

## License

BSD-3-Clause

---

*Generated by accelerate-llvm-demo CI pipeline*
